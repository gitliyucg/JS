<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style media="screen">
			*{
				margin: 0;
				padding: 0;
			}
			#drag{
				position: absolute;
				width: 100px;
				height: 100px;
				background: red;
				cursor: move;
			}
		</style>
	</head>
	<body>
		<div id="drag"></div>

		<script type="text/javascript">

//			window.onload = function () {
//                //获取元素
//                var drag = document.getElementById('drag');
//                var offsetX, offsetY;
//
//                drag.onmousedown  = function (e) {
//                    var e = e || window.event;
//					offsetX = e.clientX - drag.offsetLeft;
//					offsetY = e.clientY - drag.offsetTop;
//
//                    document.onmousemove = function (e) {
//                        var e = e || window.event;
//                        var left = e.clientX - offsetX;
//                        var top = e.clientY - offsetY;
//                        drag.style.left = left + 'px';
//                        drag.style.top = top + 'px';
//                    }
//
//                    document.onmouseup = function () {
//                        this.onmousedown = null;
//                        this.onmousemove = null;
//                    }
//                }
//            }

			window.onload = function () {
                var aDiv = document.getElementById('drag');
                aDiv.onmousedown = function (e) {
                    var e = e || window.event;
                    var X = e.clientX - aDiv.offsetLeft;
                    var Y = e.clientY - aDiv.offsetTop;
                    document.onmousemove = function (e) {
                        var e = e || window.event;
                        var left = e.clientX - X;
                        var top = e.clientY - Y;
                        aDiv.style.left = left + 'px';
                        aDiv.style.top = top + 'px';
                    };
                    document.onmouseup = function () {
						document.onmousemove = null;
                    }
                }
            }

		</script>

	</body>
</html>
